package com.sillylife.realchat.views.activitiesimport android.content.Contextimport android.os.Buildimport android.os.Bundleimport android.text.TextUtilsimport android.view.Viewimport androidx.appcompat.app.AppCompatActivityimport androidx.core.content.ContextCompatimport androidx.fragment.app.Fragmentimport androidx.fragment.app.FragmentManagerimport com.google.firebase.FirebaseAppimport com.sillylife.realchat.Rimport com.sillylife.realchat.util.CommonUtilimport com.sillylife.realchat.util.ContextWrapperimport com.sillylife.realchat.util.FragmentHelperimport java.util.*open class BaseActivity : AppCompatActivity() {    var mFragmentManager: FragmentManager? = null    override fun attachBaseContext(newBase: Context?) {        val lang = "en"//SharedPreferenceManager.getAppLanguage()        var context = newBase        if (!TextUtils.isEmpty(lang) && !lang.equals("en", ignoreCase = true)) {            val locale = Locale(lang)            context = ContextWrapper.wrap(newBase!!, locale)        }        super.attachBaseContext(context)    }    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        FirebaseApp.initializeApp(this)        mFragmentManager = supportFragmentManager        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {            window.decorView.systemUiVisibility = View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR        } else {            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {                window.statusBarColor = ContextCompat.getColor(this, R.color.colorAccent)            }        }    }    fun addFragment(fragment: Fragment, tag: String?) {        if (tag != null && !CommonUtil.textIsEmpty(tag)) {            FragmentHelper.add(R.id.container, mFragmentManager!!, fragment, tag)        } else {            FragmentHelper.add(R.id.container, mFragmentManager!!, fragment)        }    }    fun replaceFragment(fragment: Fragment, tag: String) {        FragmentHelper.replace(R.id.container, mFragmentManager!!, fragment, tag)    }    override fun onResume() {        super.onResume()    }    override fun onPause() {        super.onPause()    }}